from openai import OpenAI
from dotenv import load_dotenv
import os
import json

# .env 파일에서 환경 변수 로드(윈도우 환경에서 실행)
load_dotenv()

FINE_TUNING_MODEL = os.environ.get("OPENAI_FINE_TUNING_MODEL")
JSONL_FILE_PATH = os.environ.get("JSONL_FILE_PATH")
API_KEY = os.environ.get("OPENAI_API_KEY")
FILE_ID = os.environ.get("OPENAI_FINE_TUNING_FILE_ID")
client = OpenAI(api_key=API_KEY)


# 원본 데이터를 복사하여 여기에 붙여 넣으세요.
# data = [
#     {"messages": [{"role": "user", "content": "오늘 아이가 장난감을 계속해서 한 가지에만 집중하는 모습을 보였다. 다른 장난감에는 관심을 보이지 않고, 같은 것을 반복적으로 만지고 있었다."}, {"role": "user", "content": "아이가 오늘 내가 부르는 이름을 여러 번 불렀지만 전혀 반응하지 않았다. 이름을 불렀을 때 예전에는 반응했지만, 요즘 들어 반응이 없다."}, {"role": "user", "content": "집에 있을 때 갑자기 나는 소리에 깜짝 놀라고, 다른 사람들은 아무렇지 않게 넘기는 소리에도 아이가 과민하게 반응했다."}, {"role": "user", "content": "오늘 아이가 식사 중에 갑자기 접시를 던지며 화를 냈다. 평소에는 잘 먹었는데, 오늘따라 유독 짜증을 부렸다."}, {"role": "user", "content": "아이가 친구들과 함께 노는 자리에서 혼자 조용히 떨어져 있었다. 평소에도 아이가 사람들과 어울리는 것을 어려워하는 것 같다."}, {"role": "assistant", "content": "아이들이 한 가지에 집중하거나 이름에 반응하지 않는 모습은 발달의 한 과정일 수 있어요. 하지만 반응의 변화가 지속된다면 전문가와 함께 점검해보는 것도 좋아요. 부모님께서 아이를 지켜보며 따뜻하게 소통하려는 노력이 정말 중요합니다."}]},
#     {"messages": [{"role": "user", "content": "아이가 말을 더듬는 모습을 자주 보여 걱정이 된다. 특히 긴장하거나 흥분할 때 더 심해지는 것 같다."}, {"role": "user", "content": "아이가 새로운 환경에서 긴장하고, 낯선 사람을 보면 엄마에게만 매달리며 잘 적응하지 못한다."}, {"role": "user", "content": "아이가 혼자서도 잘 놀았는데, 요즘 들어 자꾸 나와 같이 놀아달라고 한다. 혼자 노는 것이 불안한 걸까?"}, {"role": "user", "content": "아이가 잠들기 전마다 짧은 동화를 읽어달라고 한다. 하루에 여러 번 같은 이야기를 반복해 달라고 해서 조금 지친다."}, {"role": "user", "content": "아이가 무언가를 잘못했을 때마다 울면서 혼자 방으로 들어간다. 너무 자주 스스로를 자책하는 것 같아 걱정이 된다."}, {"role": "assistant", "content": "아이가 요즘 여러 면에서 불안정한 모습을 보이고 있는 것 같아요. 이러한 변화는 아이가 현재 정서적으로 어려움을 겪고 있다는 신호일 수 있어요. 중요한 것은 아이에게 충분한 안정감을 주고, 부모님께서 따뜻하게 공감해 주시는 거예요. 아이가 반복해서 찾는 동화나 부모님의 관심은 아이에게 큰 위안이 될 수 있으니, 지치더라도 아이가 안정감을 찾을 수 있도록 시간을 내어주세요. 또한, 아이가 실수했을 때 자책하지 않도록 긍정적인 메시지를 전하고, 조금씩 스스로를 이해하고 받아들이는 과정을 돕는 것이 좋습니다."}]},
#     {"messages": [{"role": "user", "content": "아이가 밤마다 자주 깨서 우는 바람에 잠을 제대로 못 잔다. 아이도 많이 힘들어 보인다."}, {"role": "user", "content": "아이가 하루 종일 스마트폰을 가지고 놀고 싶어 한다. 강제로 뺏기에는 싸움이 될까 걱정된다."}, {"role": "user", "content": "아이가 평소에 너무 조용해서 다른 아이들보다 표현력이 떨어지는 것 같아 걱정이다."}, {"role": "user", "content": "아이가 특정한 옷이나 물건에 고집을 부리며 그것만 고집한다. 다른 것을 권해도 거부하는 모습이 종종 있다."}, {"role": "user", "content": "아이가 오늘 유치원에서 친구와 다투고 울며 돌아왔다. 아이의 마음이 많이 상했을 것 같다."}, {"role": "assistant", "content": "아이가 요즘 여러 가지로 불안정한 모습을 보이는 것은 아이가 안정감을 찾기 어려워할 때 나타날 수 있어요. 밤에 자주 깨거나 특정 물건에 집착하는 경우, 아이에게 따뜻한 관심을 보여주고 천천히 다른 선택지를 제시하는 것이 중요해요. 스마트폰 사용과 같은 문제는 규칙을 정하되, 강요하지 않고 대화로 접근하며 대체할 놀이를 함께 찾아보세요. 표현력이 부족한 아이에게는 강요보다는 다양한 경험을 제공하며, 아이가 자신의 감정을 안전하게 표현할 수 있는 기회를 만들어 주세요. 친구와의 다툼 등으로 아이의 마음이 상했을 때는 충분한 공감과 이야기를 통해 아이가 스스로 감정을 정리할 수 있도록 도와주시면 좋겠습니다."}]},
#     {"messages": [{"role": "user", "content": "아이가 밥 먹는 시간을 힘들어하며 자꾸 도망가려고 한다. 식사 시간을 즐겁게 만들어 주고 싶은데, 어떻게 해야 할지 모르겠다."}, {"role": "user", "content": "아이가 자꾸 밤늦게까지 잠들지 않고 깨어있으려고 한다. 규칙적인 수면을 시키고 싶은데 쉽지 않다."}, {"role": "user", "content": "아이가 낯선 곳에 가면 쉽게 겁을 먹고 움츠러든다. 아이의 두려움을 어떻게 도와줄 수 있을까?"}, {"role": "user", "content": "오늘 아이가 나에게 자꾸만 안기려고 하고, 조금만 떨어져도 울려고 했다. 아이가 불안감을 느끼는 것 같다."}, {"role": "user", "content": "아이가 유치원에서 새로운 친구를 사귀지 못하고 혼자 있는 시간이 많다. 어떻게 친구를 사귈 수 있도록 도와줄 수 있을까?"}, {"role": "assistant", "content": "아이가 식사 시간이나 잠자리에서 힘들어하는 모습은, 아이가 아직 그 상황에 대한 안정감을 느끼지 못해서일 수 있어요. 식사 시간에는 아이가 좋아하는 이야기를 나누거나 작은 놀이를 추가해 즐겁게 만들어 주세요. 수면 습관은 일정한 루틴을 만들고, 편안한 분위기를 조성하는 것이 중요해요. 낯선 환경이나 두려움을 느낄 때는 아이를 따뜻하게 안심시키고, 작은 성취를 통해 자신감을 키워주세요. 또한, 친구를 사귀는 것이 어려울 때는 부모님이 먼저 모범을 보여 아이가 자연스럽게 소통하는 방법을 배울 수 있도록 도와주세요."}]},
#     {"messages": [{"role": "user", "content": "아이가 오늘 여러 번 넘어져서 울었다. 걷기 시작한 이후로 균형을 잘 잡지 못하고 자주 넘어지는 것 같다."}, {"role": "user", "content": "아이가 오늘 기분이 나빠 보였는지 작은 일에도 짜증을 많이 냈다. 화가 난 아이를 어떻게 다독여야 할지 모르겠다."}, {"role": "user", "content": "아이가 물건을 자꾸 집어 던진다. 주의를 줘도 말을 듣지 않고 반복하는데, 어떻게 해야 할지 고민이 된다."}, {"role": "user", "content": "오늘 아이가 낯선 사람을 보면 자꾸 내 뒤로 숨는다. 조금 더 사회적인 아이로 키우고 싶은데, 어떻게 도와줘야 할까?"}, {"role": "user", "content": "아이가 잠들기 전마다 계속 이야기를 해달라고 한다. 잠자리에 들 시간이 자꾸 늦어져 걱정이다."}, {"role": "assistant", "content": "아이가 균형을 잡기 어려워 자주 넘어질 때는, 아이가 안전하게 걸을 수 있는 환경을 만들어주고 차분하게 격려해 주세요. 짜증을 내거나 화가 났을 때는 아이의 감정을 공감하고 차분하게 이야기를 나누며 안정감을 주는 것이 중요해요. 물건을 던지는 행동은 주의를 주기보다는, 대신 할 수 있는 대안을 제시하며 긍정적인 행동을 강화해주세요. 낯선 사람을 보면 숨는 아이에게는 억지로 다가가게 하기보다는, 부모님이 모범을 보이며 천천히 자신감을 키워주는 것이 좋아요. 잠들기 전 이야기를 요구할 때는 일정한 루틴을 만들어 아이가 자연스럽게 잠들 수 있도록 도와주세요."}]},
#     {"messages": [{"role": "user", "content": "오늘 아이가 밥을 먹지 않고 계속 놀려고만 했다. 먹이려고 해도 고개를 돌리며 거부한다."}, {"role": "user", "content": "아이가 자꾸 그림을 그리고 싶다고 해서 여러 장을 그렸다. 그런데 그리던 그림을 찢어버리고 울음을 터뜨렸다."}, {"role": "user", "content": "아이가 친구에게 화를 내고 울었다고 유치원 선생님이 말씀하셨다. 친구와 다툼이 생길 때 어떻게 지도해야 할지 모르겠다."}, {"role": "user", "content": "아이가 갑자기 두려워하며 밤에 혼자 자지 못하겠다고 한다. 자꾸 나를 찾으며 안아달라고 했다."}, {"role": "user", "content": "오늘 아이가 싫다고 말하며 특정 음식을 계속 거부했다. 고집을 꺾기 어려워 걱정이다."}, {"role": "assistant", "content": "아이가 밥을 먹지 않고 놀려고 하는 것은 식사 시간을 즐겁게 느끼지 못해서일 수 있으니, 식사 시간을 긍정적으로 만들어주는 것이 중요해요. 그림을 찢고 울음을 터뜨리는 모습은 아이가 감정적으로 표현하는 방법이 서툴러서일 수 있으니, 차분하게 다독이며 감정을 이해해 주세요. 친구와의 다툼은 아이에게 갈등 해결 방법을 가르칠 기회로 삼아, 아이가 친구의 감정을 이해하고 사과하는 방법을 알려주세요. 밤에 혼자 자지 못하겠다고 두려워하는 경우, 아이가 안전함을 느낄 수 있도록 따뜻하게 안아주고 차츰 자신감을 가질 수 있도록 도와주세요. 특정 음식을 거부할 때는 강요하기보다는 아이가 좋아하는 음식과 함께 조금씩 시도해보세요."}]},
#     {"messages": [{"role": "user", "content": "아이가 놀이터에서 다른 아이들의 장난감을 빼앗으려고 했다. 그 장면을 보고 너무 당황스러웠다."}, {"role": "user", "content": "아이가 오늘 새 신발을 신는 걸 싫어했다. 평소에는 새로운 것을 좋아했는데 오늘은 계속 거부했다."}, {"role": "user", "content": "아이가 오늘 유치원에서 만든 그림을 보여주지 않고 숨겼다. 평소에는 자랑스러워했는데, 오늘은 왜 그럴까?"}, {"role": "user", "content": "아이가 갑자기 크게 울면서 장난감을 던졌다. 왜 그런지 이유를 물어도 대답을 안 했다."}, {"role": "user", "content": "아이가 외출을 할 때마다 특정한 인형을 꼭 가져가려고 한다. 한 번은 인형을 놓고 나가자 울면서 계속 찾았다."}, {"role": "assistant", "content": "아이가 장난감을 빼앗으려 할 때는 소유 개념을 가르쳐 주고, 새 신발 거부는 강요하지 말고 천천히 적응하도록 해주세요. 그림을 숨기는 모습은 자신감 부족일 수 있으니 부드럽게 관심을 표현하고, 장난감을 던질 때는 감정을 차분히 들어주세요. 특정 인형에 대한 집착은 안정감을 찾기 위한 행동이니, 인형 없이도 괜찮다는 경험을 조금씩 시도해보세요."}]},
#     {"messages": [{"role": "user", "content": "오늘 아이가 계속 장난감만 만지고 다른 것에는 관심을 보이지 않았다. 내가 이름을 불렀을 때에도 반응하지 않았다."}, {"role": "user", "content": "아이가 친구들과의 놀이에서 자꾸 떨어져 있으려고 했다. 다른 사람들보다 소리에 예민하게 반응하고 있었다."}, {"role": "user", "content": "식사 중에 아이가 갑자기 접시를 던지며 짜증을 냈다. 평소와 다른 모습에 걱정이 된다."}, {"role": "user", "content": "아이가 밤마다 자주 깨어서 우는 바람에 잠을 제대로 못 잤다."}, {"role": "user", "content": "아이가 특정한 물건에 지나치게 집착하는 모습을 보인다."}, {"role": "assistant", "content": "아이의 행동 변화는 종종 발달 과정에서 나타나는 일시적인 현상일 수 있어요. 하지만 아이가 소리에 과민 반응하거나 반복적으로 물건에 집착하는 경우, 부모님의 따뜻한 관심과 지지가 필요합니다. 아이에게 충분한 안정감을 주고, 다양한 경험을 통해 조금씩 환경에 적응할 수 있도록 도와주세요."}]},
#     {"messages": [{"role": "user", "content": "아이가 놀이 도중 갑자기 울음을 터뜨리며 장난감을 던졌다."}, {"role": "user", "content": "아이가 유치원에서 돌아와서 친구와 다투고 울었다고 말했다."}, {"role": "user", "content": "아이가 새로운 옷을 입기 싫다고 계속 거부했다."}, {"role": "user", "content": "아이가 집에 있을 때 갑자기 소리를 지르며 물건을 던졌다."}, {"role": "user", "content": "아이가 밤에 잠들기 전에 계속 이야기를 해달라고 한다."}, {"role": "assistant", "content": "아이가 감정을 표현하는 방법이 서툴러 보일 때, 아이의 감정을 먼저 이해하고 차분하게 다가가야 해요. 새로운 환경이나 상황에 대한 두려움은 자연스러운 반응일 수 있으니, 아이가 천천히 적응할 수 있도록 도와주세요. 밤에는 안정감을 줄 수 있는 이야기나 따뜻한 말이 아이에게 큰 힘이 될 수 있습니다."}]},
#     {"messages": [{"role": "user", "content": "아이가 낯선 사람을 볼 때마다 엄마에게만 매달린다. 아이가 새로운 환경에 적응하지 못하는 것 같다."}, {"role": "user", "content": "아이가 자꾸 손을 물어뜯는다. 하지 말라고 해도 계속 반복하는데, 어떻게 해야 할지 모르겠다."}, {"role": "user", "content": "아이가 밤마다 자꾸 깨어나서 울고, 다시 잠들기 힘들어한다."}, {"role": "user", "content": "식사 시간에 아이가 자꾸 도망가려고 하고, 밥을 먹으려 하지 않는다."}, {"role": "user", "content": "아이가 외출 중에 작은 소리에도 깜짝 놀라고 불안해하는 모습을 보인다."}, {"role": "assistant", "content": "아이의 불안한 반응은 새로운 경험과 상황에 대한 두려움에서 비롯될 수 있어요. 부모님께서 아이를 따뜻하게 안아주고, 조금씩 환경에 적응할 기회를 만들어 주세요. 아이가 손을 물어뜯는 행동은 불안의 표현일 수 있으니, 대체할 수 있는 안전한 물건을 제공하는 것도 방법입니다."}]},
#     {"messages": [{"role": "user", "content": "아이가 오늘 계속 짜증을 부리며 울음을 터뜨렸다. 작은 일에도 쉽게 화를 낸다."}, {"role": "user", "content": "아이가 그림을 그리고 나서 갑자기 찢고 울었다."}, {"role": "user", "content": "아이가 유치원에서 친구와 다투고 집에 돌아와서 계속 울고 있었다."}, {"role": "user", "content": "오늘 아이가 밥을 먹지 않고 계속 장난만 쳤다."}, {"role": "user", "content": "아이가 잠들기 전에 계속 동화를 읽어달라고 해서 힘들었다."}, {"role": "assistant", "content": "아이들이 감정을 표현하는 방법이 서툴 때는 부모님의 따뜻한 공감이 중요해요. 그림을 찢고 울 때는 아이의 감정을 먼저 이해하고, 차분하게 다독여 주세요. 친구와의 다툼 후에도 충분한 대화를 통해 아이가 스스로 감정을 정리할 수 있도록 도와주시면 좋습니다."}]},
#     {"messages": [{"role": "user", "content": "아이가 특정한 장난감에 지나치게 집착하고, 다른 것에는 관심을 보이지 않는다."}, {"role": "user", "content": "아이가 이름을 부를 때마다 반응하지 않고, 소리를 내도 듣지 않는 것 같다."}, {"role": "user", "content": "아이가 새로운 장소에서 겁을 먹고 자꾸 숨어 있으려고 한다."}, {"role": "user", "content": "식사 중에 아이가 자꾸 음식을 던지며 짜증을 냈다."}, {"role": "user", "content": "아이가 다른 아이들과 놀 때 혼자 조용히 떨어져 있다."}, {"role": "assistant", "content": "아이들이 특정한 것에 집착하거나 새로운 환경에 적응하기 어려워할 때는, 천천히 적응할 수 있는 기회를 만들어주세요. 반복적인 행동이나 반응하지 않는 모습은 아이가 스스로의 방어기제를 형성하고 있는 과정일 수 있습니다. 부모님의 따뜻한 관심과 지지가 중요해요."}]},
#     {"messages": [{"role": "user", "content": "아이가 계속해서 손을 물어뜯고 있었다. 하지 말라고 해도 계속 반복했다."}, {"role": "user", "content": "아이가 친구들과 함께 노는 자리에서 혼자 멀리 떨어져 있었다."}, {"role": "user", "content": "오늘 아이가 작은 소리에도 깜짝 놀라며 예민하게 반응했다."}, {"role": "user", "content": "아이가 밥을 먹지 않고 계속 장난만 쳤다."}, {"role": "user", "content": "오늘 아이가 자꾸만 엄마에게만 매달리며 다른 사람에게는 다가가려 하지 않았다."}, {"role": "assistant", "content": "아이가 손을 물어뜯는 것은 불안의 표현일 수 있어요. 대신 할 수 있는 다른 활동을 제시해 보세요. 아이가 친구들과 멀리 떨어져 있는 모습은 혼자만의 시간이 필요한 것일 수 있으니, 천천히 접근해 주세요. 소리에 예민하게 반응할 때는 부드럽게 안심시켜 주시는 것이 중요해요."}]},
#     {"messages": [{"role": "user", "content": "아이가 특정 장난감에만 집착하고 다른 장난감은 거들떠보지 않는다."}, {"role": "user", "content": "식사 중에 아이가 자꾸 음식을 던지며 짜증을 부렸다."}, {"role": "user", "content": "아이가 자꾸 이름을 불러도 반응하지 않는다."}, {"role": "user", "content": "오늘 아이가 유치원에서 돌아와 기분이 나쁜지 집에 와서 울기만 했다."}, {"role": "user", "content": "아이가 새로운 옷을 입으려고 하지 않는다. 계속 거부한다."}, {"role": "assistant", "content": "아이가 특정 장난감에 집착하는 것은 안정감을 찾으려는 행동일 수 있어요. 식사 시간에 짜증을 낼 때는 아이와 식사를 즐겁게 만들어 보세요. 이름에 반응하지 않는다면 조용한 환경에서 부드럽게 불러주세요. 새로운 옷에 대한 거부감은 시간이 지나면 점차 익숙해질 수 있습니다."}]},
#     {"messages": [{"role": "user", "content": "아이가 오늘 식사 도중 숟가락을 던지며 화를 냈다."}, {"role": "user", "content": "아이가 새로운 사람과의 만남을 두려워하며 자꾸 숨으려고 했다."}, {"role": "user", "content": "아이가 혼자 방에 들어가서 나오지 않으려고 한다."}, {"role": "user", "content": "오늘 아이가 유치원에서 친구와 다툰 후 집에 와서 계속 울었다."}, {"role": "user", "content": "아이가 밤마다 잠들기 전에 여러 번 안아달라고 한다."}, {"role": "assistant", "content": "아이의 감정 표현이 서툴 때는 부모님의 공감과 따뜻한 반응이 중요해요. 아이가 새로운 사람을 두려워할 때는 천천히 접근하도록 돕고, 혼자 있는 시간을 필요로 할 때는 존중해 주세요. 친구와의 다툼 후에는 아이의 감정을 차분하게 들어주고 위로해 주세요."}]},
#     {"messages": [{"role": "user", "content": "아이가 유치원에서 친구에게 장난감을 빼앗기자 크게 울었다."}, {"role": "user", "content": "아이가 계속해서 나를 따라다니며 안아달라고 했다."}, {"role": "user", "content": "아이가 갑자기 울음을 터뜨리며 방으로 들어갔다."}, {"role": "user", "content": "오늘 아이가 유치원에서 만든 그림을 보여주지 않고 숨겼다."}, {"role": "user", "content": "아이가 특정한 소리에 예민하게 반응하며 불안해했다."}, {"role": "assistant", "content": "아이들이 장난감을 빼앗길 때 울 수 있어요. 아이의 감정을 먼저 공감해 주시고, 차분하게 이야기해 주세요. 아이가 불안해하는 소리가 있을 때는 부드럽게 다가가서 안심시켜 주세요. 그림을 숨기거나 울음을 터뜨릴 때는 아이가 마음을 열 수 있도록 기다려주세요."}]},
#     {"messages": [{"role": "user", "content": "아이가 오늘 갑자기 접시를 던지고 울음을 터뜨렸다."}, {"role": "user", "content": "아이가 유치원에서 친구와 다투고 화가 나서 집에 와서 울었다."}, {"role": "user", "content": "아이가 새로운 환경에 적응하지 못하고 겁을 내며 울었다."}, {"role": "user", "content": "오늘 아이가 그림을 그리다가 갑자기 찢어버리고 울음을 터뜨렸다."}, {"role": "user", "content": "아이가 친구들과 어울리기를 어려워한다."}, {"role": "assistant", "content": "아이들이 새로운 환경에 적응하기 어려워할 때는 부모님의 따뜻한 지지와 격려가 필요해요. 아이가 감정을 표현하는 방법이 서툴러 보일 때는 차분하게 감정을 들어주고, 긍정적인 방법으로 감정을 표현할 수 있도록 도와주세요. 친구 관계에서는 부담을 주지 않고 천천히 접근해보세요."}]},
#     {"messages": [{"role": "user", "content": "아이가 오늘 친구와 놀이 중에 갑자기 화를 내고 울면서 장난감을 던졌다."}, {"role": "user", "content": "아이가 새로운 음식은 거부하고 늘 먹던 것만 먹으려고 한다."}, {"role": "user", "content": "아이가 낮잠을 자지 않으려고 고집을 부리고 계속 깨어있으려고 한다."}, {"role": "user", "content": "오늘 아이가 처음 보는 사람 앞에서 말을 전혀 하지 않았다."}, {"role": "user", "content": "아이가 자꾸 자기가 원하는 대로 안 되면 울면서 누워서 발버둥을 친다."}, {"role": "assistant", "content": "아이들이 화를 내고 울 때는 감정을 인정하고 차분하게 다가가주세요. 새로운 음식에 대한 거부는 자연스러운 반응이니, 서서히 시도하며 긍정적인 경험을 만들어 주세요. 낮잠을 거부할 때는 일정한 루틴을 만들어 주는 것이 중요해요."}]},
#     {"messages": [{"role": "user", "content": "아이가 집에 돌아오자마자 방으로 들어가 문을 잠갔다."}, {"role": "user", "content": "아이가 유치원에서 친구와 놀이 중에 자주 다투고 울음이 터졌다."}, {"role": "user", "content": "아이가 밤에 갑자기 깨어서 무서운 꿈을 꾸었다며 울었다."}, {"role": "user", "content": "오늘 아이가 자신이 좋아하던 장난감을 계속 숨기려고 했다."}, {"role": "user", "content": "아이가 엄마를 찾으며 자꾸 안아달라고 한다."}, {"role": "assistant", "content": "아이가 혼자 있고 싶어 할 때는 조용히 기다려 주시고, 안심할 수 있는 환경을 만들어 주세요. 친구와 다툼이 있을 때는 아이의 감정을 공감하며 갈등 해결의 기회를 제공해 주세요. 무서운 꿈을 꿀 때는 따뜻한 말로 다독여 주는 것이 좋아요."}]},
#     {"messages": [{"role": "user", "content": "아이가 친구와의 놀이에서 규칙을 고집하며 친구가 따르지 않으면 화를 냈다."}, {"role": "user", "content": "아이가 갑자기 다른 아이들의 행동을 따라 하려고 했다."}, {"role": "user", "content": "오늘 아이가 혼자만의 시간을 갖고 싶어 하는 것 같아 보였다."}, {"role": "user", "content": "아이가 잠자기 전마다 자꾸 물을 달라고 해서 잠드는 시간이 늦어진다."}, {"role": "user", "content": "아이가 집안 곳곳을 돌아다니며 자꾸 새로운 물건을 만지려고 했다."}, {"role": "assistant", "content": "아이가 규칙을 고집할 때는 친구와 타협하는 방법을 배울 수 있도록 차분하게 도와주세요. 아이가 혼자만의 시간을 필요로 할 때는 존중해 주는 것이 좋아요. 잠자리 루틴을 만들어 안정감을 줄 수 있는 환경을 조성해 주세요."}]},
#     {"messages": [{"role": "user", "content": "아이가 그림을 그리다가 갑자기 찢어버리며 울음을 터뜨렸다."}, {"role": "user", "content": "아이가 친구와 놀이 중에 자꾸 장난감을 빼앗으려 했다."}, {"role": "user", "content": "아이가 오늘 계속 짜증을 내며 자꾸만 엄마에게 달려왔다."}, {"role": "user", "content": "아이가 식사 중에 자꾸 놀고 싶어 하며 집중하지 못했다."}, {"role": "user", "content": "오늘 아이가 평소보다 더 민감하게 반응하며 소리쳤다."}, {"role": "assistant", "content": "아이가 감정적으로 힘들어할 때는 차분하게 다가가서 아이의 감정을 이해해 주세요. 친구와의 장난감 문제는 함께 나누는 법을 배울 기회로 삼아 보세요. 식사 시간에는 이야기를 나누며 즐겁게 만들어 주세요."}]},
#     {"messages": [{"role": "user", "content": "아이가 유치원에서 돌아오자마자 울면서 자신이 만든 작품을 부쉈다."}, {"role": "user", "content": "아이가 계속해서 나에게 안기려고 했다."}, {"role": "user", "content": "아이가 새로운 상황에서 자꾸 뒤로 물러나고 움츠러드는 모습을 보였다."}, {"role": "user", "content": "아이가 특정한 물건에 집착하며 손에서 놓지 않으려고 한다."}, {"role": "user", "content": "오늘 아이가 이름을 불러도 반응하지 않았다."}, {"role": "assistant", "content": "아이가 만든 작품을 부쉈을 때는 아이의 감정을 먼저 공감해 주세요. 새로운 상황에서 움츠러들 때는 천천히 익숙해질 수 있도록 도와주세요. 특정 물건에 대한 집착은 점차 다른 선택지를 제시하면서 안정감을 느끼게 해 주세요."}]}
# ]
#
# # .jsonl 형식으로 변환하여 저장
# with open('fine_tune_data.jsonl', 'w', encoding='utf-8') as file:
#     for entry in data:
#         json_record = json.dumps(entry, ensure_ascii=False)  # 한 줄씩 JSON으로 변환
#         file.write(json_record + '\n')  # 한 줄에 하나의 JSON 객체 저장


# 모델 삭제
def delete_model(model_name):
    try:
        response = client.models.delete(model_name)
        print("Model deleted successfully:", response)
    except Exception as e:
        print("Error deleting model:", str(e))


# 데이터 업로드
def upload_data(file_path):
    response = client.files.create(
        file=open(file_path, "rb"),
        purpose='fine-tune'
    )
    return response.id


# 모델 파인튜닝
def fine_tune_model(training_file_id, model="gpt-3.5-turbo-1106"):
    response = client.fine_tuning.jobs.create(
        training_file=training_file_id,
        model=model
    )
    print(response)
    return response


# 메인 로직
def main():
    try:
        #데이터 업로드
        file_path = JSONL_FILE_PATH
        training_file_id = upload_data(file_path)
        print(f"Training file uploaded successfully: {training_file_id}")

        #모델 파인튜닝
        #training_file_id = FILE_ID #기존 파일 사용시
        fine_tune_response = fine_tune_model(training_file_id)
        print(f"Fine-tuning initiated: {fine_tune_response}")

    except Exception as e:
        print(f"Error: {str(e)}")


if __name__ == "__main__":
    main()
